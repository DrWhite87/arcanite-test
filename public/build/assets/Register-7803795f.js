import{u as y}from"./auth-81eecb93.js";import{_ as h,k as F,r as v,a as U,w as l,j as n,o as C,b as e,g as d,f as S,a4 as j}from"./_plugin-vue_export-helper-da3472a7.js";const A={name:"Register",setup(){const m=y(),r=F({name:"",email:"",phone:"",password:"",password_confirmation:""}),t=v({}),o=v(!1);return{form:r,validationErrors:t,processing:o,register:async()=>{o.value=!0,await axios.get("/sanctum/csrf-cookie"),await axios.post("/api/register",r).then(i=>{t.value={},m.login({email:r.email,password:r.password})}).catch(({response:i})=>{i.status===422?t.value=i.data.errors:t.value={}}).finally(()=>{o.value=!1})}}}};function B(m,r,t,o,f,i){const c=n("v-toolbar-title"),_=n("v-toolbar"),s=n("v-text-field"),u=n("v-form"),g=n("v-card-text"),p=n("router-link"),w=n("v-spacer"),E=n("v-btn"),b=n("v-card-actions"),V=n("v-card"),x=n("v-sheet"),k=n("v-container");return C(),U(k,{fluid:"",class:"fill-height justify-center"},{default:l(()=>[e(x,{width:"400",class:"mx-auto"},{default:l(()=>[e(V,null,{default:l(()=>[e(_,null,{default:l(()=>[e(c,{class:"text-grey-darken-3"},{default:l(()=>[d("Регистрация")]),_:1})]),_:1}),e(g,null,{default:l(()=>[e(u,{onSubmit:r[10]||(r[10]=S(()=>{},["prevent"]))},{default:l(()=>[e(s,{"bg-color":"white",modelValue:o.form.name,"onUpdate:modelValue":r[0]||(r[0]=a=>o.form.name=a),label:"Логин",autofocus:"",error:!!o.validationErrors.name&&o.validationErrors.name.length,"error-messages":o.validationErrors.name,onFocus:r[1]||(r[1]=a=>o.validationErrors.name=[])},null,8,["modelValue","error","error-messages"]),e(s,{"bg-color":"white",modelValue:o.form.email,"onUpdate:modelValue":r[2]||(r[2]=a=>o.form.email=a),type:"email",label:"Email",error:!!o.validationErrors.email&&o.validationErrors.email.length,"error-messages":o.validationErrors.email,onFocus:r[3]||(r[3]=a=>o.validationErrors.email=[])},null,8,["modelValue","error","error-messages"]),e(s,{"bg-color":"white",modelValue:o.form.phone,"onUpdate:modelValue":r[4]||(r[4]=a=>o.form.phone=a),label:"Телефон",error:!!o.validationErrors.phone&&o.validationErrors.phone.length,"error-messages":o.validationErrors.phone,onFocus:r[5]||(r[5]=a=>o.validationErrors.phone=[])},null,8,["modelValue","error","error-messages"]),e(s,{"bg-color":"white",modelValue:o.form.password,"onUpdate:modelValue":r[6]||(r[6]=a=>o.form.password=a),type:"password",label:"Пароль",error:!!o.validationErrors.password&&o.validationErrors.password.length,"error-messages":o.validationErrors.password,onFocus:r[7]||(r[7]=a=>o.validationErrors.password=[])},null,8,["modelValue","error","error-messages"]),e(s,{"bg-color":"white",modelValue:o.form.password_confirmation,"onUpdate:modelValue":r[8]||(r[8]=a=>o.form.password_confirmation=a),type:"password",label:"Пароль",error:!!o.validationErrors.password_confirmation&&o.validationErrors.password_confirmation.length,"error-messages":o.validationErrors.password_confirmation,onFocus:r[9]||(r[9]=a=>o.validationErrors.password_confirmation=[])},null,8,["modelValue","error","error-messages"])]),_:1})]),_:1}),e(b,null,{default:l(()=>[e(p,{to:{name:"login"},class:"text-blue"},{default:l(()=>[d("Войти!")]),_:1}),e(w),e(E,{variant:"outlined",color:"blue",onClick:o.register},{default:l(()=>[d(j(o.processing?"Подождите":"Регистрация"),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})}const D=h(A,[["render",B]]);export{D as default};
