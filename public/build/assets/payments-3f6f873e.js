import{d as m,a as s,h as a}from"./auth-c8cb1dd9.js";import{r as c,k as d}from"./_plugin-vue_export-helper-da3472a7.js";const k=m("payments",()=>{const o=c({}),y=c({}),n=c([]),r=c([]),u=c([]),i=d({page:1}),h=()=>{s.get("/api/payments?"+new URLSearchParams(i)).then(({data:e})=>{e.success&&(y.value=e.data.payments,n.value=e.data.statuses,r.value=e.data.currency)}).catch(e=>{a(e)})};return{payment:o,payments:y,statuses:n,currency:r,users:u,query:i,fetchAll:h,create:()=>s.get("/api/payments/create").then(({data:e})=>{e.success&&(r.value=e.data.currency,u.value=e.data.users)}).catch(e=>{a(e)}),store:e=>s.post("/api/payments",e).catch(t=>{a(t)}),edit:e=>s.get("/api/payments/"+e+"/edit").then(({data:t})=>{t.success&&(o.value=t.data.payment,n.value=t.data.statuses,r.value=t.data.currency,u.value=t.data.users)}).catch(t=>{a(t)}),update:(e,t)=>s.patch("/api/payments/"+e,t).catch(p=>{a(p)}),updateStatus:(e,t)=>s.patch("/api/payments/"+e+"/updateStatus",{status:t}).catch(p=>{a(p)}),destroy:e=>s.delete("/api/payments/"+e).then(({data:t})=>{t.success&&h()}).catch(t=>{a(t)})}},{persist:{paths:["query"]}});export{k as u};
